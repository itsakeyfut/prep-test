# Tree Recursion (æœ¨æ§‹é€ å†å¸°)

## âœ… Tree Recursion ã¨ã¯ï¼Ÿ

1 ã¤ã®é–¢æ•°ã®ä¸­ã§è¤‡æ•°å›å†å¸°ã‚’å‘¼ã³å‡ºã™å†å¸°ã®ã“ã¨ã§ã™ã€‚

ã¤ã¾ã‚Šã€åŒã˜é–¢æ•°ã‚’è¤‡æ•°å›å‘¼ã¶ã“ã¨ã§ã€Œæœ¨ã€æ§‹é€ ã®ã‚ˆã†ãªå†å¸°å‘¼ã³å‡ºã—é–¢ä¿‚ãŒç”Ÿã¾ã‚Œã¾ã™ã€‚

## ğŸ“˜ ä¾‹ï¼šãƒ•ã‚£ãƒœãƒŠãƒƒãƒæ•°åˆ—ï¼ˆå†å¸°çš„å®šç¾©ï¼‰

````rs
fn fib(n: u32) -> u32 {
    if n <= 1 {
        n
    } else {
        fib(n - 1) + fib(n - 2)
    }
}

å†å¸°ã®æ§‹é€ ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼ˆä¾‹ï¼šfib(3)ï¼‰ï¼š

```rs
         fib(3)
        /      \
    fib(2)    fib(1)
   /     \
fib(1)  fib(0)
````

=> æœ¨æ§‹é€ ã«ãªã£ã¦ã„ã‚‹

## ğŸ¤” è§£èª¬

- Tree Recursion ã¯ã¨ã¦ã‚‚å¼·åŠ›ã§ã™ãŒã€è¨ˆç®—é‡ãŒæŒ‡æ•°çš„ã«å¢—åŠ ã™ã‚‹ãŸã‚æ³¨æ„ï¼
- é‡è¤‡è¨ˆç®—ã‚’é¿ã‘ãŸã„å ´åˆã¯ã€**ãƒ¡ãƒ¢åŒ–ï¼ˆãƒ¡ãƒ¢ãƒªæœ€é©åŒ–ï¼‰** ãŒæœ‰åŠ¹

## ğŸ§  è¨­è¨ˆè¦–ç‚¹

- Tree Recursion ã¯ã€åˆ†å²çš„ãªé¸æŠè‚¢ã‚’ã™ã¹ã¦æ¢ç´¢ã™ã‚‹ã‚ˆã†ãªå•é¡Œï¼ˆãƒãƒƒã‚¯ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ãªã©ï¼‰ã§ä½¿ã‚ã‚Œã¾ã™ã€‚
- DFSï¼ˆæ·±ã•å„ªå…ˆæ¢ç´¢ï¼‰ã€ãƒ‘ãƒ¼ãƒŸãƒ¥ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ç”Ÿæˆãªã©ãŒå¥½ä¾‹ã§ã™

## ğŸ” Rust ã§ Tree Recursion ã‚’ä½¿ã£ãŸãƒ‘ã‚¿ãƒ¼ãƒ³

### ğŸ² ä¾‹ï¼šå†å¸°çš„ã«æ–‡å­—åˆ—ã‚’ 2 å›å‡ºåŠ›ã™ã‚‹

```rs
fn tree_rec(n: u32) {
    if n > 0 {
        println!("{}", n);
        tree_rec(n - 1);
        tree_rec(n - 1);
    }
}
```

ã“ã®é–¢æ•°ã¯ä»¥ä¸‹ã®ã‚ˆã†ã« 2^n - 1 å›å‡ºåŠ›ã—ã¾ã™ã€‚

```
tree_rec(3) ã®å‡ºåŠ›ï¼š
3
2
1
1
2
1
1
```

## ğŸ§ª æ¼”ç¿’ï¼šTree Recursion ã«ã‚ˆã‚‹ã€Œã™ã¹ã¦ã®éƒ¨åˆ†é›†åˆã€ã®åˆ—æŒ™

```rs
fn subsets(s: &str, curr: String) {
    if s.is_empty() {
        println!("{}", curr);
    } else {
        let (first, rest) = s.split_at(1);
        subsets(rest, curr.clone()); // å«ã¾ãªã„ãƒ‘ã‚¿ãƒ¼ãƒ³
        subsets(rest, curr + first); // å«ã‚€ãƒ‘ã‚¿ãƒ¼ãƒ³
    }
}

fn main() {
    subsets("abc", "".to_string());
}

/*
 * c
 * b
 * bc
 * a
 * ac
 * ab
 * abc
 */
```
